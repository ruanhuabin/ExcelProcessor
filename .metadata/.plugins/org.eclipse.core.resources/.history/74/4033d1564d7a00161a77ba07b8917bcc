# encoding: utf-8
'''
Created on 2016��9��14��

@author: ruanhuabin
'''
from Tkinter import *
from tkFileDialog import askopenfilename
from tkFileDialog import askdirectory
from _functools import partial


class Application:
    def __init__(self, master):
        frame = Frame(master,width=400,height=600)
        frame.pack()   
        
        self.inputFilePath =StringVar()
        self.labelFolder = Label(frame,textvariable=self.inputFilePath).grid(row=0,columnspan=2)
        
        self.log_file_btn = Button(frame, text="Select Screen File", command=self.selectLogFile).grid(row=1, columnspan=2)
        
        self.outputFolderPath = StringVar()
        self.labelImageFile = Label(frame,textvariable = self.outputFolderPath).grid(row = 2, columnspan = 2)
        self.output_folder_btn = Button(frame, text="Output Folder", command=self.selectImageFile,width=40).grid(row=3, columnspan=2)
        
        self.blankText = StringVar()
        self.blankLabel = Label(frame,textvariable = self.blankText).grid(row = 4, columnspan = 2)
        
        self.output_filename_label = Label(frame, text="\t\t\tOutput File Name: ")#.grid(row=5, columnspan=2)
        self.output_filename_label.grid(row=5, columnspan=2)
       
        self.output_filename_entry = Entry(frame, bd = 4).grid(row=6, column=0, columnspan=2)
        
        
        
        f = frame
        xscrollbar = Scrollbar(f, orient=HORIZONTAL)
        xscrollbar.grid(row=12, column=0, sticky=N+S+E+W)
 
        yscrollbar = Scrollbar(f)
        yscrollbar.grid(row=11, column=1, sticky=N+S+E+W)
 
        text = Text(f, wrap=NONE,
                    xscrollcommand=xscrollbar.set,
                    yscrollcommand=yscrollbar.set)
        text.grid(row=11, column=0)
 
        xscrollbar.config(command=text.xview)
        yscrollbar.config(command=text.yview)
         
        for i in range(100):
            text.insert(END, 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\n')
         
        text.see("end")
        
        self.start_run_btn = Button(frame, text="Start Processing", command=partial(self.startProcessing, self.text_field), width=40).grid(row=7, columnspan=2)
            
        
        
#         xscrollbar = Scrollbar(frame, orient=HORIZONTAL)
#         xscrollbar.grid(row=10, column=0, columnspan = 2, sticky=N+S+E+W)
# 
#         yscrollbar = Scrollbar(frame, orient=VERTICAL)
#         yscrollbar.grid(row=8, column=1, sticky=N+S+E+W)
#         
#         
#         self.text_field = Text(frame, wrap=NONE, height=10, xscrollcommand=xscrollbar.set, yscrollcommand=yscrollbar.set)#.grid(row = 9, columnspan=2)
#         self.text_field.grid(row = 8, column = 0, columnspan=2)
#         
#         xscrollbar.config(command=self.text_field.xview)
#         yscrollbar.config(command=self.text_field.yview)
#         
#         self.start_run_btn = Button(frame, text="Start Processing", command=partial(self.startProcessing, self.text_field), width=40).grid(row=7, columnspan=2)
#         
  

    def selectLogFile(self):
        filename = askopenfilename()
        self.inputFilePath.set(filename)

    def selectImageFile(self):
        imageFolder = askdirectory()
        self.outputFolderPath.set(imageFolder)
    
    def startProcessing(self, text_field):#       
        #text_field.insert(INSERT, "Start to Process file: %s\n" % self.inputFilePath.get())
        text_field.insert(INSERT, "Start to Process file: \n" )
        text_field.see("end")
        

mainFrame = Tk()
mainFrame.title("Screen Data Processor")
mainFrame.geometry("600x800")
#mainFrame.resizable(False, False)
app = Application(mainFrame)
mainFrame.mainloop()